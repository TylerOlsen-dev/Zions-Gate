-- Create the `button_configs` table
CREATE TABLE button_configs (
    id INT AUTO_INCREMENT PRIMARY KEY,
    message_id BIGINT UNSIGNED NOT NULL UNIQUE,
    channel_id BIGINT NOT NULL,
    role_id BIGINT NOT NULL,
    message TEXT NOT NULL,
    button_text VARCHAR(255) NOT NULL,
    success_message TEXT NOT NULL,
    allowed_roles TEXT DEFAULT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Add the `message_id` column (if needed)
ALTER TABLE button_configs
ADD COLUMN message_id BIGINT UNSIGNED NOT NULL UNIQUE;

-- Ensure `message_id` is `BIGINT UNSIGNED`
ALTER TABLE button_configs
MODIFY COLUMN message_id BIGINT UNSIGNED NOT NULL UNIQUE;

-- View table structure
DESCRIBE button_configs;

-- Fetch all records
SELECT * FROM button_configs;

-- Delete a specific record
DELETE FROM button_configs WHERE message_id = 123456789012345678;

-- Delete all records
DELETE FROM button_configs;

-- Drop the table
DROP TABLE button_configs;
